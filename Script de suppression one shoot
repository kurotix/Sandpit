# Spécifiez le chemin du dossier parent contenant les dossiers "p-*"
$dossier_parent = "C:\"

# Obtenez la liste des dossiers parent "p-*"
$dossiers_parent = Get-ChildItem -Path $dossier_parent -Directory | Where-Object { $_.Name -like "p-*" }

# Parcourez chaque dossier parent "p-*"
foreach ($dossier in $dossiers_parent) {
  $dossier_workspace = Join-Path -Path $dossier.FullName -ChildPath "workspace"

  # Vérifiez si le dossier "workspace" existe
  if (Test-Path -Path $dossier_workspace -PathType Container) {
    Write-Host "Suppression du contenu de $dossier_workspace"

    # Supprimez le contenu du dossier "workspace"
    Remove-Item -Path "$dossier_workspace\*" -Force -Recurse
  } else {
    Write-Host "Le dossier $dossier_workspace n'existe pas."
  }
}
